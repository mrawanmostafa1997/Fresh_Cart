@if(data) {
<section class="bg-gray-200 my-5 p-3">
  <h1 class="text-xl front-bold">Shop Cart</h1>
  <div class="row justify-between">
    <h2 class="text-main my-5 text-sm">
      Toatal Cart Price : {{ data.totalCartPrice }}
    </h2>
    <button
      (click)="clearCart()"
      class="bg-red-500 p-2 m-2 cursor-pointer rounded text-white shadow-2xl my-5 w-full md:w-auto"
    >
      <i class="fa-solid fa-trash"></i>
      Clear Cart
    </button>
  </div>

  @for(product of data.products; track product._id) {
  <div class="row items-center border-b border-white">
    <div class="md:w-1/12 p-3">
      <img [src]="product.product.imageCover" [alt]="product.product.title" />
    </div>
    <div class="md:w-10/12 p-3">
      <h3 class="text-lg font-extrabold">{{ product.product.title }}</h3>

      <p class="text-sm text-gray-500">
        {{ product.price | currency : "EGP" }}
      </p>
      <button
        (click)="deleteProductFromCart(product.product._id)"
        class="btn btn-main mt-3"
      >
        <i class="fa-solid fa-trash-can"></i> Remove
      </button>
    </div>
    <div class="md:w-1/12 p-3">
      <button
        (click)="
          updateProductCount(
            product.product._id,
            (product.count = product.count + 1).toString()
          )
        "
        class="bg-green-500 p-2 rounded m-2 cursor-pointer"
      >
        +
      </button>
      <span>{{ product.count }}</span>
      <button
        (click)="
          updateProductCount(
            product.product._id,
            (product.count = product.count - 1).toString()
          )
        "
        class="bg-red-500 text-white p-2 m-2 rounded cursor-pointer"
      >
        -
      </button>
    </div>
  </div>
  }
  <button
    class="btn btn-main ms-auto block m-3"
    [routerLink]="['/shippingAddress', data._id]"
  >
    Order
  </button>
</section>
}
